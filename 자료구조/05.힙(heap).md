# ν™ (heap)

# ν™μ κ°λ…

- **μ™„μ „ μ΄μ§„ νΈλ¦¬**μ μΌμΆ…μΌλ΅, μ°μ„ μμ„ νλ¥Ό μ„ν•μ—¬ λ§λ“¤μ–΄μ§„ μλ£κµ¬μ΅°
    - β… μ™„μ „ μ΄μ§„ νΈλ¦¬λ€, λ§μ§€λ§‰ λ λ²¨μ„ μ μ™Έν• λ¨λ“  λ…Έλ“κ°€ μ±„μ›μ Έ μμΌλ©΄μ„, λ¨λ“  λ…Έλ“κ°€ μ™Όμ½λ¶€ν„° μ±„μ›μ Έμμ–΄μ•Ό ν•λ‹¤.

![Untitled](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F5685b8ab-435e-41bc-87f4-6df04553f66a%2FUntitled.png?table=block&id=ae2d5ab8-65a0-47a3-8ea8-d6d00bdd380c&spaceId=d8c31e41-0ab8-4798-b72a-e6d973bbe9ad&width=2000&userId=4bd117a6-cbe9-477e-b951-0dbf84a94dcf&cache=v2)

- μ—¬λ¬ κ°’λ“¤ μ¤‘μ—μ„ μµλ€κ°’μ΄λ‚ μµμ†κ°’μ„ λΉ λ¥΄κ² μ°Ύμ•„λ‚΄κΈ° μ„ν•΄ λ§λ“¤μ–΄μ΅λ‹¤.
    - μλ¥Ό λ“¤μ–΄λ³΄μλ©΄, μ–΄λ–¤ λ¦¬μ¤νΈμ— κ°’μ„ λ„£μ—λ‹¤κ°€ λΉΌλ‚΄λ ¤κ³  ν•  λ•, μ°μ„ μμ„κ°€ λ†’μ€ κ²ƒλ¶€ν„° λΉΌλ‚΄λ ¤κ³  ν•λ” μƒν™©μ΄ μλ‹¤. μ΄ λ• λ€κ° μ •λ ¬μ„ μ‹λ„ν•  κ²ƒμ΄λ‹¤. ν•μ§€λ§ λ§¤λ² μƒ μ›μ†κ°€ λ“¤μ–΄μ¬ λ•λ§λ‹¤ μ΄λ―Έ λ¦¬μ¤νΈμ— μλ μ›μ†λ“¤κ³Ό λΉ„κµν•κ³  μ •λ ¬μ„ ν•΄μ•Όν•λ‹¤. λ„λ¬΄ λΉ„ν¨μ¨μ μ΄μ§€ μ•μ€κ°€β€¦?π¤”
    - κ·Έλμ„ λ§λ“¤μ–΄μ§„κ² ν™! **β€λ¶€λ¨ λ…Έλ“λ” ν•­μƒ μμ‹ λ…Έλ“λ³΄λ‹¤ μ°μ„ μμ„κ°€ λ†’λ‹¤β€™** λΌλ” μ΅°κ±΄μ„ λ¶™μ΄κ² λ κ²ƒμ΄λ‹¤. λ¨λ“  μ”μ†λ“¤μ„ κ³ λ ¤ν•μ—¬ μ°μ„  μμ„λ¥Ό μ •ν•  ν•„μ” μ—†μ΄, λ¶€λ¨ λ…Έλ“λ” μμ‹ λ…Έλ“λ³΄λ‹¤ ν•­μƒ μ°μ„ μμ„κ°€ μ•μ„λ” ν•νƒ, μ¦‰ μ™„μ „ μ΄μ§„ νΈλ¦¬ ν•νƒλ΅ λ°μ΄ν„°λ¥Ό μ±„μ›λ‚κ°€λ©΄ λλ‹¤.
- μΌμΆ…μ λ°μ •λ ¬ μƒνƒ(λμ¨ν• μ •λ ¬) λ¥Ό μ μ§€ν•λ‹¤. (ν° κ°’μ΄ μƒμ„ λ λ²¨μ΄κ³  μ‘μ€ κ°’μ΄ ν•μ„ λ λ²¨μ— μμμ„ μλ―Έν•λ‹¤. λ°‘μ μµλ€ ν™, μµμ† ν™μ„ μ°Έκ³ !)

# ν™μ νΉμ§•

## 1. μ΄μ§„ νΈλ¦¬**(Binary Tree)** κµ¬μ΅°

- λ¨λ“  λ…Έλ“μ μ°¨μλ¥Ό 2λ΅ μ ν•ν• νΈλ¦¬ κµ¬μ΅°

## 2. μ°μ„ μμ„ ν(Priority Queue)μ— μ‚¬μ©μ΄ κ°€λ¥

μ°μ„ μμ„κ°€ κ°€μ¥ λ†’μ€ λ°μ΄ν„°λ¥Ό κ°€μ¥ λ¨Όμ € μ‚­μ ν•λ” μλ£κµ¬μ΅°

μ°μ„ μμ„μ κ°λ…μ„ νμ— λ„μ…ν• μλ£κµ¬μ΅°λΌκ³ λ„ ν•  μ μλ‹¤.

β… **μ°μ„ μμ„ νλ¥Ό λ‹¤μ‹ λ³΄κ³  κ°€μ!**

- λ°μ΄ν„°λ¥Ό μ°μ„ μμ„μ— λ”°λΌ μ²λ¦¬ν•κ³  μ‹¶μ„ λ• μ‚¬μ©
- λ°°μ—΄, μ—°κ²°λ¦¬μ¤νΈ, ν™μΌλ΅ κµ¬ν„μ΄ κ°€λ¥ν•λ‚, **ν™μΌλ΅ κµ¬ν„ν•λ” κ²ƒμ΄ κ°€μ¥ ν¨μ¨μ **

  ![Untitled](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff6460b96-349b-4306-a057-bec558dda0d9%2FUntitled.png?table=block&id=5d6cda6d-30f8-494e-8416-0aca147f9bff&spaceId=d8c31e41-0ab8-4798-b72a-e6d973bbe9ad&width=700&userId=4bd117a6-cbe9-477e-b951-0dbf84a94dcf&cache=v2)

- μ‚¬μ© μ‚¬λ΅€
    - μ‹λ®¬λ μ΄μ… μ‹μ¤ν…
    - λ„¤νΈμ›ν¬ νΈλν”½ μ μ–΄
    - μ΄μ μ²΄μ μ—μ„μ μ‘μ—… μ¤μΌ€μ¥΄λ§
    - μμΉ ν•΄μ„μ μΈ κ³„μ‚°


# ν™μ μΆ…λ¥

1. μµλ€ ν™(max heap)
    1. λ¶€λ¨ λ…Έλ“μ ν‚¤ κ°’μ΄ μμ‹ λ…Έλ“μ ν‚¤ κ°’λ³΄λ‹¤ ν¬κ±°λ‚ κ°™μ€ μ™„μ „ μ΄μ§„ νΈλ¦¬
2. μµμ† ν™(min heap)
    1. λ¶€λ¨ λ…Έλ“μ ν‚¤ κ°’μ΄ μμ‹ λ…Έλ“μ ν‚¤ κ°’λ³΄λ‹¤ μ‘κ±°λ‚ κ°™μ€ μ™„μ „ μ΄μ§„ νΈλ¦¬

![Untitled](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F85485cbb-20f2-47ba-b4c6-04a126bdc470%2FUntitled.png?table=block&id=8b8ddf21-2e8b-404f-8dde-fd23324831d8&spaceId=d8c31e41-0ab8-4798-b72a-e6d973bbe9ad&width=700&userId=4bd117a6-cbe9-477e-b951-0dbf84a94dcf&cache=v2)

# ν™μ κµ¬ν„ λ°©λ²•

- ν™μ„ μ €μ¥ν•λ” ν‘μ¤€μ μΈ μλ£κµ¬μ΅°λ” **λ°°μ—΄**
- μ΄ κ²½μ°, κµ¬ν„μ„ μ‰½κ² ν•κΈ° μ„ν•΄ λ°°μ—΄μ **μ²« λ²μ§Έ μΈλ±μ¤ 0μ€ μ‚¬μ© X**
- νΉμ • μ„μΉμ λ…Έλ“ λ²νΈλ” μƒλ΅μ΄ λ…Έλ“κ°€ μ¶”κ°€λμ–΄λ„ λ³€ν•μ§€ μ•λ”λ‹¤.

## ν™μ—μ„μ λ¶€λ¨λ…Έλ“μ™€ μμ‹ λ…Έλ“μ κ΄€κ³„

- μ™Όμ½ μμ‹μ μΈλ±μ¤ = (λ¶€λ¨μ μΈλ±μ¤) * 2
- μ¤λ¥Έμ½ μμ‹μ μΈλ±μ¤ = (λ¶€λ¨μ μΈλ±μ¤) * 2 + 1
- λ¶€λ¨μ μΈλ±μ¤ = (μμ‹μ μΈλ±μ¤) / 2

![Untitled](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff868dcac-dd55-4f03-b160-c9b1dfb3b0b6%2FUntitled.png?table=block&id=2adc10bb-9cd4-4055-a637-cf685fb90716&spaceId=d8c31e41-0ab8-4798-b72a-e6d973bbe9ad&width=700&userId=4bd117a6-cbe9-477e-b951-0dbf84a94dcf&cache=v2)

μλ°” μ½”λ“λ΅ ν‘ν„ν•μλ©΄ μ΄μ™€ κ°™λ‹¤.

```
// λ°›μ€ μΈλ±μ¤μ λ¶€λ¨ λ…Έλ“ μΈλ±μ¤λ¥Ό λ°ν™
	private int getParent(int index) {
		return index / 2;
	}
	
	// λ°›μ€ μΈλ±μ¤μ μ™Όμ½ μμ‹ λ…Έλ“ μΈλ±μ¤λ¥Ό λ°ν™ 
	private int getLeftChild(int index) {
		return index * 2;
	}
	
	// λ°›μ€ μΈλ±μ¤μ μ¤λ¥Έμ½ μμ‹ λ…Έλ“ μΈλ±μ¤λ¥Ό λ°ν™
	private int getRightChild(int index) {
		return index * 2 + 1;
	}
```

## ν™μ μ‚½μ…κ³Ό μ‚­μ 

ν™μ—μ„ μ‚½μ… λλ” μ‚­μ κ°€ μΌμ–΄λ‚λ” κ²½μ°, μµλ€ ν™/μµμ† ν™μ μ΅°κ±΄μ΄ κΉ¨μ§ μ μλ‹¤.

μ΄λ¬ν• κ²½μ° μ΅°κ±΄μ„ λ§μ΅±ν•  μ μκ²λ” λ…Έλ“λ“¤μ μ„μΉλ¥Ό λ°”κΏ”κ°€λ©° ν™μ„ **μ¬κµ¬μ΅°ν™”(heapify)**ν•΄μ•Όν•λ‹¤.

- μ‹κ°„ λ³µμ΅λ„ = O(logN)

### μ‚½μ…

1. ν™μ— μƒλ΅μ΄ μ”μ†κ°€ μ‚½μ…λλ” κ²½μ°, ν™μ λ§μ§€λ§‰ λ…Έλ“μ— μ‚½μ…ν•λ‹¤.
2. μƒλ΅μ΄ λ…Έλ“λ¥Ό λ¶€λ¨ λ…Έλ“λ“¤κ³Ό κµν™ν•λ‹¤.

π― **μμ **

- κ°€μ¥ λ§λ‹¨ λ…Έλ“μ— μƒλ΅μ΄ μ”μ†λ¥Ό μ‚½μ… (μ™Όμ½λ¶€ν„°, ν• λ…Έλ“ λ‹Ή 2κ°μ”©λ§ μ±„μ°λ” κ±Έ μμ§€ λ§ κ²ƒ!)

![Untitled](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbfc5fc17-e82b-462f-8ad6-b95ded7a1b4d%2FUntitled.png?table=block&id=4eda8996-ccb2-4857-81ec-4bc5aa67a41b&spaceId=d8c31e41-0ab8-4798-b72a-e6d973bbe9ad&width=700&userId=4bd117a6-cbe9-477e-b951-0dbf84a94dcf&cache=v2)

- λ¶€λ¨ λ…Έλ“μ™€ λΉ„κµν•μ—¬ κ°’μ΄ μμ‹ λ…Έλ“κ°€ λ” ν¬λ‹¤λ©΄, λ‘μ„ κµν™ / μ‘λ‹¤λ©΄ ν•΄λ‹Ή λ¶€λ¶„μ—μ„ μ •μ§€

![Untitled](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ffbd0b75f-886d-41b4-af55-ed54cb244c1f%2FUntitled.png?table=block&id=e380c3bc-955b-44cd-b4fe-e39ca846cf1d&spaceId=d8c31e41-0ab8-4798-b72a-e6d973bbe9ad&width=700&userId=4bd117a6-cbe9-477e-b951-0dbf84a94dcf&cache=v2)

- μ„λ΅ μ¬λΌκ°€λ©° ν™μ μ΅°κ±΄μ΄ λ§μ΅±λ  λ•κΉμ§€ κ°™μ€ κ³Όμ •μ„ λ°λ³µ

![Untitled](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F95ec8fea-f8db-4e3f-adf2-05dd27652589%2FUntitled.png?table=block&id=d59f9223-7a06-4b54-b3ca-a8725b825da4&spaceId=d8c31e41-0ab8-4798-b72a-e6d973bbe9ad&width=700&userId=4bd117a6-cbe9-477e-b951-0dbf84a94dcf&cache=v2)

μλ°” μ½”λ“λ΅ ν‘ν„ν•λ©΄ μ΄μ™€ κ°™λ‹¤.

```
void insert_max_heap(int x) {
    
    maxHeap[++heapSize] = x; 
    
    for( int i = heapSize; i > 1; i /= 2) { // i = λ¶€λ¨λ…Έλ“μ μΈλ±μ¤
        
        if(maxHeap[i/2] < maxHeap[i]) { // μμ‹λ…Έλ“κ°€ λ¶€λ¨λ…Έλ“μ κ°’λ³΄λ‹¤ ν¬λ‹¤λ©΄
            swap(i/2, i); // μμ‹λ…Έλ“μ™€ λ¶€λ¨λ…Έλ“μ μ„μΉ κµμ²΄
        } else { // μμ‹λ…Έλ“κ°€ λ¶€λ¨λ…Έλ“μ κ°’λ³΄λ‹¤ μ‘κ±°λ‚ κ°™λ‹¤λ©΄
            break; // μ¬κµ¬μ΅°ν™” μΆ…λ£
        }
        
    }
}
```

### μ‚­μ 

1. μµλ€ ν™ λ° μ°μ„  μμ„μ— λ”°λΌ, μµλ€κ°’μ„ κ°€μ§„ λ£¨νΈ λ…Έλ“κ°€ μ‚­μ λλ‹¤.
2. μ‚­μ λ λ£¨νΈ λ…Έλ“μ—λ” ν™μ λ§μ§€λ§‰ λ…Έλ“λ¥Ό κ°€μ Έμ¨λ‹¤.
3. ν™μ„ μ¬κµ¬μ„±ν•λ‹¤.

π― **μμ **

- λ£¨νΈ λ…Έλ“ μ‚­μ  ν›„, λ§μ§€λ§‰ μ›μ†λ¥Ό λ£¨νΈλ΅ μ΄λ™

![Untitled](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ffa85c661-707e-4800-b767-d29989cfeab9%2FUntitled.png?table=block&id=991a1462-0ad7-404a-b719-90b1a653c59a&spaceId=d8c31e41-0ab8-4798-b72a-e6d973bbe9ad&width=700&userId=4bd117a6-cbe9-477e-b951-0dbf84a94dcf&cache=v2)

- κ°€μ¥ ν° κ°’μ„ κ°€μ§„ μμ‹ λ…Έλ“μ™€ μ„μΉλ¥Ό κµν™

![Untitled](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc5d2deed-4296-4308-828b-aea3e12eb233%2FUntitled.png?table=block&id=4f8d8403-6c9f-4854-885a-47b0c9672c66&spaceId=d8c31e41-0ab8-4798-b72a-e6d973bbe9ad&width=700&userId=4bd117a6-cbe9-477e-b951-0dbf84a94dcf&cache=v2)

- κµν™ν• λ…Έλ“μ—μ„ λ‹¤μ‹ ν° κ°’μ„ κ°€μ§„ μμ‹ λ…Έλ“μ™€ μ„μΉλ¥Ό κµν™

![Untitled](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F94ee5f82-00bb-43f0-a45b-71f11f071801%2FUntitled.png?table=block&id=292542d4-0978-4af2-a35e-78a0ecea20a1&spaceId=d8c31e41-0ab8-4798-b72a-e6d973bbe9ad&width=700&userId=4bd117a6-cbe9-477e-b951-0dbf84a94dcf&cache=v2)

![Untitled](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F5cdd74da-ec4c-4e68-be8f-bde33e2b5f57%2FUntitled.png?table=block&id=e5e3d074-2363-467e-8539-6b9b02530e0a&spaceId=d8c31e41-0ab8-4798-b72a-e6d973bbe9ad&width=700&userId=4bd117a6-cbe9-477e-b951-0dbf84a94dcf&cache=v2)

μλ°” μ½”λ“λ΅ ν‘ν„ν•λ©΄ μ΄μ™€ κ°™λ‹¤.